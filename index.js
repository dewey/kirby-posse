(function(){"use strict";function p(s,t,e,a,i,o,l,d){var r=typeof s=="function"?s.options:s;return t&&(r.render=t,r.staticRenderFns=e,r._compiled=!0),{exports:s,options:r}}const S={props:{items:{type:Array,default:()=>[]},posts:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},postsLoading:{type:Boolean,default:!1},error:{type:[String,null],default:null},syndicatingItems:{type:Array,default:()=>[]}},methods:{formatService(s){return s?s.charAt(0).toUpperCase()+s.slice(1):""},formatDateTime(s){if(!s)return"";const t=s.replace(" ","T")+"Z",e=new Date(t);if(isNaN(e.getTime()))return s;const a=c=>String(c).padStart(2,"0"),i=e.getFullYear(),o=a(e.getMonth()+1),l=a(e.getDate()),d=a(e.getHours()),r=a(e.getMinutes());return`${i}-${o}-${l} ${d}:${r}`},getRelativeTime(s){if(!s)return"";const t=s.replace(" ","T")+"Z",e=new Date(t);if(isNaN(e.getTime()))return"Unknown time";const a=new Date,i=e.getTime()-a.getTime();if(i<0&&Math.abs(i)<6e4)return"Now";if(i<-6e4){const c=Math.floor(Math.abs(i)/6e4);if(c<60)return`${c} minute${c!==1?"s":""} ago`;const u=Math.floor(c/60);if(u<24)return`${u} hour${u!==1?"s":""} ago`;const h=Math.floor(u/24);return`${h} day${h!==1?"s":""} ago`}const o=Math.ceil(i/(1e3*60));if(o<60)return`In ${o} minute${o!==1?"s":""}`;const l=Math.floor(o/60),d=o%60;if(l<24)return d===0?`In ${l} hour${l!==1?"s":""}`:`In ${l}h ${d}m`;const r=Math.floor(l/24);return`In ${r} day${r!==1?"s":""}`},isSyndicated(s){const t=s.syndicated_at&&s.syndicated_at!=="null"&&s.syndicated_at!=="",e=s.syndication_time&&s.syndication_time!=="null"&&s.syndication_time!=="";return t||e},isIgnored(s){return s.ignored&&s.ignored!=="0"&&s.ignored!==0},isSyndicating(s){return Array.isArray(this.syndicatingItems)&&this.syndicatingItems.some(t=>t===s.id||t===Number(s.id)||String(t)===String(s.id))}}};var x=function(){var t=this,e=t._self._c;return e("section",{staticClass:"k-section"},[t._m(0),e("div",{staticClass:"k-table"},[e("table",[t._m(1),t.items&&t.items.length>0?e("tbody",{staticClass:"k-draggable"},t._l(t.items,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"k-table-cell k-table-column",staticStyle:{width:"40%","vertical-align":"middle"},attrs:{"data-column-id":"page","data-mobile":"true"}},[e("div",{staticStyle:{width:"100%",padding:"0.5rem 0.75rem",display:"flex","flex-direction":"column","align-items":"flex-start"}},[e("p",{staticClass:"k-url-field-preview",staticStyle:{"padding-bottom":"0","margin-bottom":"0",width:"100%"},attrs:{"data-link":a.page_url}},[e("a",{staticClass:"k-link",attrs:{href:a.page_url,target:"_blank"}},[e("span",[t._v(t._s(a.page_title))])])]),e("p",{staticClass:"k-text-field-preview",staticStyle:{color:"var(--color-gray-500)","font-size":"0.85em","margin-top":"0.1rem","margin-bottom":"0","padding-bottom":"0"}},[t._v(" Published: "+t._s(t.formatDateTime(a.published_at||a.published_time))+" | "),e("a",{staticClass:"k-link posse-panel-link",attrs:{href:a.panel_url||"#",target:"_blank"}},[t._v(" Open in panel ")])])])]),e("td",{staticClass:"k-table-cell k-table-column",staticStyle:{width:"10%","vertical-align":"middle"},attrs:{"data-column-id":"service"}},[e("div",{staticStyle:{padding:"0.5rem 0.75rem",display:"flex","justify-content":"flex-start"}},[a.service==="mastodon"?e("span",{attrs:{title:"Mastodon"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"}})])]):a.service==="bluesky"?e("span",{attrs:{title:"Bluesky"}},[e("svg",{staticClass:"bi bi-bluesky",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M3.468 1.948C5.303 3.325 7.276 6.118 8 7.616c.725-1.498 2.698-4.29 4.532-5.668C13.855.955 16 .186 16 2.632c0 .489-.28 4.105-.444 4.692-.572 2.04-2.653 2.561-4.504 2.246 3.236.551 4.06 2.375 2.281 4.2-3.376 3.464-4.852-.87-5.23-1.98-.07-.204-.103-.3-.103-.218 0-.081-.033.014-.102.218-.379 1.11-1.855 5.444-5.231 1.98-1.778-1.825-.955-3.65 2.28-4.2-1.85.315-3.932-.205-4.503-2.246C.28 6.737 0 3.12 0 2.632 0 .186 2.145.955 3.468 1.948"}})])]):e("span",{attrs:{title:t.formatService(a.service)}},[t._v(" "+t._s(t.formatService(a.service).charAt(0))+" ")])])]),e("td",{staticClass:"k-table-cell k-table-column",staticStyle:{width:"20%","vertical-align":"middle"},attrs:{"data-column-id":"syndicate_after"}},[e("div",{staticStyle:{width:"100%",padding:"0.5rem 0.75rem",display:"flex","flex-direction":"column","align-items":"flex-start"}},[e("p",{staticClass:"k-text-field-preview posse-relative-time-large",staticStyle:{"padding-bottom":"0","margin-bottom":"0",width:"100%"}},[t._v(" "+t._s(t.getRelativeTime(a.syndicate_after||a.earliest_syndication_time))+" ")]),e("p",{staticClass:"k-text-field-preview posse-timestamp-small",staticStyle:{color:"var(--color-gray-500)","font-size":"0.85em","margin-top":"0.1rem","margin-bottom":"0","padding-bottom":"0"}},[t._v(" Syndicate after: "+t._s(t.formatDateTime(a.syndicate_after||a.earliest_syndication_time))+" ")])])]),e("td",{staticClass:"k-table-cell k-table-column",staticStyle:{width:"10%","vertical-align":"middle"},attrs:{"data-column-id":"status","data-mobile":"true"}},[e("div",{staticStyle:{width:"100%",padding:"0.5rem 0.75rem",display:"flex","justify-content":"center"}},[t.isSyndicated(a)?e("button",{staticClass:"k-button k-table-update-status-cell-button",attrs:{"data-has-icon":"true","data-has-text":"true","data-size":"xs","data-theme":"positive","data-variant":"filled",type:"button"}},[e("span",{staticClass:"k-button-icon"},[e("svg",{staticClass:"k-icon",attrs:{"aria-hidden":"true","data-type":"check"}},[e("use",{attrs:{"xlink:href":"#icon-check"}})])]),e("span",{staticClass:"k-button-text"},[t._v("Syndicated")])]):t.isIgnored(a)?e("button",{staticClass:"k-button k-table-update-status-cell-button",attrs:{"data-has-icon":"true","data-has-text":"true","data-size":"xs","data-theme":"disabled","data-variant":"filled",type:"button"}},[e("span",{staticClass:"k-button-icon"},[e("svg",{staticClass:"k-icon",attrs:{"aria-hidden":"true","data-type":"cancel"}},[e("use",{attrs:{"xlink:href":"#icon-cancel"}})])]),e("span",{staticClass:"k-button-text"},[t._v("Ignored")])]):e("button",{staticClass:"k-button k-table-update-status-cell-button",attrs:{"data-has-icon":"true","data-has-text":"true","data-size":"xs","data-theme":"notice","data-variant":"filled",type:"button"}},[e("span",{staticClass:"k-button-icon"},[e("svg",{staticClass:"k-icon",attrs:{"aria-hidden":"true","data-type":"upload"}},[e("use",{attrs:{"xlink:href":"#icon-upload"}})])]),e("span",{staticClass:"k-button-text"},[t._v("In Queue")])])])]),e("td",{staticClass:"k-table-cell k-table-column",staticStyle:{width:"20%","vertical-align":"middle","text-align":"left"},attrs:{"data-column-id":"actions","data-mobile":"true"}},[e("div",{staticStyle:{width:"100%",padding:"0.5rem 0.75rem",display:"flex","flex-direction":"column","justify-content":"flex-start","align-items":"flex-start"}},[t.isSyndicated(a)?e("span",{staticClass:"k-text-field-preview"},[t._v("â€”")]):t.isSyndicating(a)?e("k-button",{staticStyle:{"justify-content":"flex-start"},attrs:{icon:"loader",text:"Syndicating...",size:"small",title:"Currently syndicating",disabled:""}}):e("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-start",gap:"5px",width:"100%"}},[e("k-button",{staticClass:"posse-action-button",staticStyle:{width:"100%","justify-content":"flex-start"},attrs:{icon:"upload",title:"Syndicate now",text:"Syndicate now",size:"small"},on:{click:function(i){return t.$emit("syndicate-now",a)}}}),e("k-button",{staticClass:"posse-action-button",staticStyle:{width:"100%","justify-content":"flex-start"},attrs:{icon:"cancel",title:"Ignore",text:"Ignore",size:"small","data-theme":"info","data-variant":"ghost"},on:{click:function(i){return t.$emit("toggle-ignored",a)}}})],1)],1)])])}),0):t._e()]),!t.items||t.items.length===0?e("div",{staticClass:"k-collection-empty posse-empty-state"},[!t.error&&t.items.length===0&&!t.postsLoading&&t.posts.length>0?e("div",{staticClass:"k-empty"},[e("p",{staticClass:"posse-empty-description"},[t._v(" We automatically add newly published pages here. "),e("a",{staticClass:"posse-action-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.$emit("add-to-queue")}}},[t._v("Add one manually")]),t._v(" to get started. ")])]):!t.error&&!t.postsLoading&&t.posts.length===0?e("div",{staticClass:"k-empty"},[e("p",{staticClass:"posse-empty-description"},[t._v(" No content types configured. Please go to "),e("a",{staticClass:"posse-action-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.$emit("go-to-settings")}}},[t._v("settings")]),t._v(" and configure the content types you want to track. ")])]):t.error?e("div",{staticClass:"k-empty"},[e("p",{staticClass:"posse-empty-description"},[t._v(t._s(t.error))])]):e("div",{staticClass:"k-empty"},[e("p",{staticClass:"posse-empty-description"},[t._v("Loading syndication queue...")])])]):t._e()])])},C=[function(){var s=this,t=s._self._c;return t("header",{staticClass:"k-section-header"},[t("h2",{staticClass:"k-label k-section-label",attrs:{title:"Queue"}},[t("span",{staticClass:"k-label-text"},[s._v("Queue")])])])},function(){var s=this,t=s._self._c;return t("thead",[t("tr",[t("th",{staticClass:"k-table-column",staticStyle:{width:"40%"},attrs:{"data-column-id":"page","data-mobile":"true"}},[s._v("Page")]),t("th",{staticClass:"k-table-column",staticStyle:{width:"10%"},attrs:{"data-column-id":"service"}},[s._v("Service")]),t("th",{staticClass:"k-table-column",staticStyle:{width:"20%"},attrs:{"data-column-id":"syndicate_after"}},[s._v("Syndicate")]),t("th",{staticClass:"k-table-column",staticStyle:{width:"10%"},attrs:{"data-column-id":"status","data-mobile":"true"}},[s._v("Status")]),t("th",{staticClass:"k-table-column",staticStyle:{width:"20%"},attrs:{"data-column-id":"actions","data-mobile":"true"}},[s._v("Actions")])])])}],D=p(S,x,C);const A=D.exports,T={props:{items:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},error:{type:[String,null],default:null}},computed:{filteredItems(){return!this.items||!Array.isArray(this.items)?[]:this.items.filter(s=>{const t=String(s.syndicated_at||""),e=String(s.syndication_time||""),a=s.ignored===!0||s.ignored===1||s.ignored==="1";return t!==""&&t!=="null"&&t!=="undefined"||e!==""&&e!=="null"&&e!=="undefined"||a})}},methods:{formatService(s){return s?s.charAt(0).toUpperCase()+s.slice(1):""},formatDateTime(s){if(!s)return"";const t=new Date(s),e=r=>String(r).padStart(2,"0"),a=t.getFullYear(),i=e(t.getMonth()+1),o=e(t.getDate()),l=e(t.getHours()),d=e(t.getMinutes());return`${a}-${i}-${o} ${l}:${d}`}}};var $=function(){var t=this,e=t._self._c;return e("section",{staticClass:"k-section"},[t._m(0),e("div",{staticClass:"k-table"},[e("table",[t._m(1),t.items&&t.filteredItems.length>0?e("tbody",{staticClass:"k-draggable"},t._l(t.filteredItems,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"k-table-cell k-table-column",staticStyle:{width:"40%","vertical-align":"middle"},attrs:{"data-column-id":"page","data-mobile":"true"}},[e("div",{staticStyle:{width:"100%",padding:"0.5rem 0.75rem",display:"flex","flex-direction":"column","align-items":"flex-start"}},[e("p",{staticClass:"k-url-field-preview",staticStyle:{"padding-bottom":"0","margin-bottom":"0",width:"100%"},attrs:{"data-link":a.page_url}},[e("a",{staticClass:"k-link",attrs:{href:a.page_url,target:"_blank"}},[e("span",[t._v(t._s(a.page_title))])])]),e("p",{staticClass:"k-text-field-preview",staticStyle:{color:"var(--color-gray-500)","font-size":"0.85em","margin-top":"0.1rem","margin-bottom":"0","padding-bottom":"0"}},[t._v(" Published: "+t._s(t.formatDateTime(a.published_at||a.published_time))+" | "),e("a",{staticClass:"k-link posse-panel-link",attrs:{href:a.panel_url||"#",target:"_blank"}},[t._v(" Open in panel ")])])])]),e("td",{staticClass:"k-table-cell k-table-column",staticStyle:{width:"10%","vertical-align":"middle"},attrs:{"data-column-id":"service"}},[e("div",{staticStyle:{padding:"0.5rem 0.75rem",display:"flex","justify-content":"flex-start"}},[a.service==="mastodon"?e("span",{attrs:{title:"Mastodon"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"}})])]):a.service==="bluesky"?e("span",{attrs:{title:"Bluesky"}},[e("svg",{staticClass:"bi bi-bluesky",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M3.468 1.948C5.303 3.325 7.276 6.118 8 7.616c.725-1.498 2.698-4.29 4.532-5.668C13.855.955 16 .186 16 2.632c0 .489-.28 4.105-.444 4.692-.572 2.04-2.653 2.561-4.504 2.246 3.236.551 4.06 2.375 2.281 4.2-3.376 3.464-4.852-.87-5.23-1.98-.07-.204-.103-.3-.103-.218 0-.081-.033.014-.102.218-.379 1.11-1.855 5.444-5.231 1.98-1.778-1.825-.955-3.65 2.28-4.2-1.85.315-3.932-.205-4.503-2.246C.28 6.737 0 3.12 0 2.632 0 .186 2.145.955 3.468 1.948"}})])]):e("span",{attrs:{title:t.formatService(a.service)}},[t._v(" "+t._s(t.formatService(a.service).charAt(0))+" ")])])]),e("td",{staticClass:"k-table-cell k-table-column",staticStyle:{width:"20%","vertical-align":"middle","text-align":"left"},attrs:{"data-column-id":"syndicated_at"}},[e("div",{staticStyle:{width:"100%",padding:"0.5rem 0.75rem"}},[e("p",{staticClass:"k-text-field-preview",staticStyle:{margin:"0",padding:"0","text-align":"left"}},[t._v(" "+t._s(t.formatDateTime(a.syndicated_at||a.syndication_time))+" ")])])]),e("td",{staticClass:"k-table-cell k-table-column",staticStyle:{width:"10%","vertical-align":"middle"},attrs:{"data-column-id":"status","data-mobile":"true"}},[e("div",{staticStyle:{width:"100%",padding:"0.5rem 0.75rem",display:"flex","justify-content":"flex-start"}},[a.syndicated_at&&a.syndicated_at!=="null"&&a.syndicated_at!==""&&a.ignored!=1?e("button",{staticClass:"k-button k-table-update-status-cell-button",attrs:{"data-has-icon":"true","data-has-text":"true","data-size":"xs","data-theme":"positive","data-variant":"filled",type:"button"}},[e("span",{staticClass:"k-button-icon"},[e("svg",{staticClass:"k-icon",attrs:{"aria-hidden":"true","data-type":"check"}},[e("use",{attrs:{"xlink:href":"#icon-check"}})])]),e("span",{staticClass:"k-button-text"},[t._v("Syndicated")])]):a.ignored==1?e("button",{staticClass:"k-button k-table-update-status-cell-button",attrs:{"data-has-icon":"true","data-has-text":"true","data-size":"xs","data-theme":"disabled","data-variant":"filled",type:"button"}},[e("span",{staticClass:"k-button-icon"},[e("svg",{staticClass:"k-icon",attrs:{"aria-hidden":"true","data-type":"cancel"}},[e("use",{attrs:{"xlink:href":"#icon-cancel"}})])]),e("span",{staticClass:"k-button-text"},[t._v("Ignored")])]):t._e()])]),e("td",{staticClass:"k-table-cell k-table-column",staticStyle:{width:"20%","vertical-align":"middle","text-align":"left"},attrs:{"data-column-id":"actions","data-mobile":"true"}},[e("div",{staticStyle:{width:"100%",padding:"0.5rem 0.75rem",display:"flex","flex-direction":"column","justify-content":"flex-start","align-items":"flex-start",gap:"5px"}},[a.syndicated_url&&a.syndicated_url!=="null"&&a.syndicated_url!==""?e("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-start",gap:"5px",width:"100%"}},[e("k-button",{staticClass:"posse-action-button",staticStyle:{width:"100%","justify-content":"flex-start"},attrs:{icon:"url",text:"View Post",link:a.syndicated_url,target:"_blank",size:"small"}})],1):t._e(),a.ignored==1?e("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-start",gap:"5px",width:"100%"}},[e("k-button",{staticClass:"posse-action-button",staticStyle:{width:"100%","justify-content":"flex-start"},attrs:{icon:"add",text:"Add to queue",size:"small","data-theme":"info"},on:{click:function(i){return t.$emit("unignore",a)}}})],1):t._e(),!(a.syndicated_url&&a.syndicated_url!=="null"&&a.syndicated_url!=="")&&a.ignored!=1?e("span",{staticClass:"k-text-field-preview"},[t._v("â€”")]):t._e()])])])}),0):t._e()]),!t.items||!t.filteredItems||t.filteredItems.length===0?e("div",{staticClass:"k-collection-empty posse-empty-state"},[!t.error&&!t.loading?e("div",{staticClass:"k-empty"},[e("p",{staticClass:"posse-empty-description"},[t._v(" Syndicated and ignored items will appear here once processed. ")])]):t.error?e("div",{staticClass:"k-empty"},[e("p",{staticClass:"posse-empty-description"},[t._v(t._s(t.error))])]):e("div",{staticClass:"k-empty"},[e("p",{staticClass:"posse-empty-description"},[t._v("Loading syndication history...")])])]):t._e()])])},I=[function(){var s=this,t=s._self._c;return t("header",{staticClass:"k-section-header"},[t("h2",{staticClass:"k-label k-section-label",attrs:{title:"History"}},[t("span",{staticClass:"k-label-text"},[s._v("History")])])])},function(){var s=this,t=s._self._c;return t("thead",[t("tr",[t("th",{staticClass:"k-table-column",staticStyle:{width:"40%"},attrs:{"data-column-id":"page","data-mobile":"true"}},[s._v("Page")]),t("th",{staticClass:"k-table-column",staticStyle:{width:"10%"},attrs:{"data-column-id":"service"}},[s._v("Service")]),t("th",{staticClass:"k-table-column",staticStyle:{width:"20%"},attrs:{"data-column-id":"syndicated_at"}},[s._v("Syndicated At")]),t("th",{staticClass:"k-table-column",staticStyle:{width:"10%"},attrs:{"data-column-id":"status","data-mobile":"true"}},[s._v("Status")]),t("th",{staticClass:"k-table-column",staticStyle:{width:"20%"},attrs:{"data-column-id":"actions","data-mobile":"true"}},[s._v("Actions")])])])}],E=p(T,$,I);const O=E.exports,F={components:{CustomTable:A,HistoryTable:O},props:{csrf:{type:String,required:!1,default:""}},data(){return{loading:!0,postsLoading:!0,settingsLoading:!0,items:[],posts:[],error:null,syndicatingItems:[],settings:{services:{mastodon:{enabled:!1},bluesky:{enabled:!1}},contenttypes:{post:!0,photo:!0}},addDialogData:{page_id:"",service:""},addDialogFields:{page_id:{label:"Select Post or Photo",type:"select",required:!0,options:[]},service:{label:"Services",type:"multiselect",required:!0,max:null,options:[]}},urlDialogData:{id:null,syndicated_url:""},urlDialogFields:{syndicated_url:{label:"Syndicated URL",type:"url",required:!0}},currentItem:null,columns:{title:{label:"Page",type:"text",width:"1/4"},service:{label:"Service",type:"text",width:"1/5"},published:{label:"Published",type:"date",width:"1/5"},earliest:{label:"Syndicate After",type:"date",width:"1/5"},actions:{label:"Actions",type:"buttons",width:"1/5"}}}},computed:{hasEnabledServices(){return!this.settings||!this.settings.services?!1:Object.values(this.settings.services).some(s=>s.enabled===!0)},pendingItems(){return!this.items||!Array.isArray(this.items)?[]:this.items.filter(s=>{const t=s.syndicated_at&&s.syndicated_at!=="null"&&s.syndicated_at!=="",e=s.syndication_time&&s.syndication_time!=="null"&&s.syndication_time!=="",a=s.ignored==1||s.ignored===!0||s.ignored==="1";return!(t||e||a)})},syndicatedItems(){return!this.items||!Array.isArray(this.items)?[]:this.items.filter(t=>{const e=t.syndicated_at&&t.syndicated_at!=="null"&&t.syndicated_at!=="",a=t.syndication_time&&t.syndication_time!=="null"&&t.syndication_time!=="",i=t.ignored===!0||t.ignored===1||t.ignored==="1";return e||a||i}).sort((t,e)=>{const a=new Date(t.syndicated_at||t.syndication_time||t.updated_at);return new Date(e.syndicated_at||e.syndication_time||e.updated_at)-a})},rows(){return!this.items||!Array.isArray(this.items)?[]:this.items.map(s=>{const t=new Date(s.published_at||s.published_time),e=new Date(s.syndicate_after||s.earliest_syndication_time);return{id:s.id,title:{text:s.page_title,link:s.panel_url||"#"},service:this.formatService(s.service),published:t.toLocaleString(),earliest:e.toLocaleString(),actions:[{icon:"url",text:"Mark Syndicated",click:this.markSyndicated.bind(this,s),disabled:!!(s.syndicated_at||s.syndication_time)},{icon:"cancel",text:s.ignored?"Unignore":"Ignore",click:this.toggleIgnored.bind(this,s),disabled:!!(s.syndicated_at||s.syndication_time)}]}})},postOptions(){return this.posts.map(t=>({value:t.id,text:`${t.title} (${t.type})`}))},services(){const s=[];if(this.settings&&this.settings.services)for(const[t,e]of Object.entries(this.settings.services))e.enabled&&s.push({value:t,text:this.formatService(t)});return s.length===0?[{value:"mastodon",text:"Mastodon (disabled in settings)"},{value:"bluesky",text:"Bluesky (disabled in settings)"}]:s},debugJSON(){return JSON.stringify({firstPost:this.posts.length>0?this.posts[0]:null,firstQueueItem:this.items.length>0?this.items[0]:null,allPosts:this.posts,allQueueItems:this.items},null,2)}},created(){this.fetchSettings(),this.fetchQueue(),this.fetchPosts()},methods:{siteSettings(){this.$go("posse/settings")},goToSettings(){this.$refs.addDialog.close(),this.$go("posse/settings")},async fetchQueue(){this.loading=!0,this.error=null;try{const s=this.csrf||"",t=await fetch("/api/posse/queue",{method:"GET",headers:{"X-CSRF":s}});if(!t.ok)throw new Error(`Error fetching queue: ${t.status}`);const e=await t.json();if(e==null){this.items=[];return}Array.isArray(e)?this.items=e:(console.warn("Unexpected response format from posse/queue",e),this.items=[])}catch(s){console.error("Error fetching syndication queue:",s),this.error="Failed to load syndication queue. Check browser console for details.",this.items=[]}finally{this.loading=!1}},async fetchPosts(){this.postsLoading=!0;try{const s=this.csrf||"",t=await fetch("/api/posse/posts",{method:"GET",headers:{"X-CSRF":s}});if(!t.ok)throw new Error(`Error fetching posts: ${t.status}`);const e=await t.json();if(Array.isArray(e)){e.length===0&&console.warn("API returned empty posts array");const a=e.filter(i=>i.id?!0:(console.error("Invalid post without id:",i),!1));this.posts=a}else console.warn("Unexpected posts response format:",e),this.posts=[]}catch(s){console.error("Error fetching posts:",s),this.$store.dispatch("notification/error","Failed to load posts")}finally{this.postsLoading=!1}},formatService(s){return s?s.charAt(0).toUpperCase()+s.slice(1):""},handleAction(s,t){typeof s=="function"&&s(t)},async openAddDialog(){await Promise.all([this.fetchSettings(),this.fetchPosts()]),this.addDialogFields.page_id.options=this.postOptions,this.addDialogFields.service.options=this.services;const s=this.services.map(e=>e.value);this.addDialogData={page_id:this.posts.length>0?this.posts[0].id:"",service:s},this.posts.length===0?(this.addDialogFields.page_id.disabled=!0,this.addDialogFields.service.disabled=!0):(this.addDialogFields.page_id.disabled=!1,this.addDialogFields.service.disabled=!1);let t="";this.hasEnabledServices?this.posts.length===0?t="All eligible posts have already been syndicated to all enabled services.":t="Select a post or photo to add to the syndication queue":t="No syndication services are enabled. Enable services in the settings to use the syndication queue.",this.$refs.addDialog.open({title:"Add to Queue",text:t,button:"Add to Queue",size:"medium",submitButton:{text:"Add to Queue",disabled:this.posts.length===0||!this.hasEnabledServices}})},async submitAddDialog(){const s=this.addDialogData.page_id,t=this.addDialogData.service;if(!s||!t||!t.length)return this.$store.dispatch("notification/error","Missing required values"),!1;try{const e=this.csrf||"",a=[];for(const d of t)a.push(fetch("/api/posse/add-to-queue",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF":e},body:JSON.stringify({page_id:s,service:d})}).then(r=>r.json()));const o=(await Promise.all(a)).filter(d=>d.status==="error");if(o.length>0)throw new Error(o[0].message||"Failed to add to queue");const l=t.length>1?`${t.length} services`:"service";return this.$store.dispatch("notification/success",`Post added to syndication queue for ${l}`),this.fetchQueue(),this.$refs.addDialog.close(),!0}catch(e){console.error("Error adding to queue:",e);let a=e.message||"Unknown error";return this.$store.dispatch("notification/error","Failed to add to queue: "+a),!1}},cancelAddDialog(){this.$refs.addDialog.close()},async markSyndicated(s,t){if(!t){console.error("No syndicated URL provided");return}this.currentItem=s,this.urlDialogData={id:s.id,syndicated_url:t},await this.submitUrlDialog()},async submitUrlDialog(){try{if(!this.urlDialogData.syndicated_url)return this.$store.dispatch("notification/error","URL is required"),!1;const s=this.csrf||"",t=await fetch("/api/posse/mark-syndicated",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF":s},body:JSON.stringify({id:this.urlDialogData.id,syndicated_url:this.urlDialogData.syndicated_url})}),e=await t.json();if(!t.ok)throw new Error(e.message||"Failed to mark as syndicated");return this.fetchQueue(),this.$refs.urlDialog.close(),!0}catch(s){return console.error("Error marking as syndicated:",s),this.$store.dispatch("notification/error","Failed to mark as syndicated: "+s.message),!1}},cancelUrlDialog(){this.$refs.urlDialog.close()},async fetchSettings(){this.settingsLoading=!0;try{const s=this.csrf||"",t=await fetch("/api/posse/settings",{method:"GET",headers:{"X-CSRF":s}});if(!t.ok)throw new Error(`Error loading settings: ${t.status}`);const e=await t.json();this.settings=e,(!this.addDialogData.service||this.addDialogData.service.length===0)&&this.services.length>0&&(this.addDialogData.service=this.services.map(a=>a.value))}catch(s){console.error("Error loading settings:",s)}finally{this.settingsLoading=!1}},toggleIgnored(s){this.syndicatingItems.push(s.id),fetch("/api/posse/mark-ignored",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF":this.csrf||""},body:JSON.stringify({id:s.id,ignored:!0})}).then(t=>t.json()).then(t=>{this.$store.dispatch("notification/success","Added to ignore list"),this.fetchQueue()}).catch(t=>{console.error("Error ignoring item:",t),this.$store.dispatch("notification/error","Failed to ignore item")}).finally(()=>{const t=this.syndicatingItems.indexOf(s.id);t>-1&&this.syndicatingItems.splice(t,1)})},async syndicateNow(s){try{this.syndicatingItems.push(s.id);const t=this.csrf||"",e=await fetch("/api/posse/syndicate-now",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF":t},body:JSON.stringify({id:s.id})}),a=await e.json();if(!e.ok)throw new Error(a.message||"Failed to syndicate now");a.syndicated_url?(await this.markSyndicated(s,a.syndicated_url),this.$store.dispatch("notification/success","Successfully syndicated to "+s.service)):this.$store.dispatch("notification/success","Post has been syndicated"),this.fetchQueue()}catch(t){console.error("Error syndicating now:",t),this.$store.dispatch("notification/error","Failed to syndicate: "+t.message)}finally{const t=this.syndicatingItems.indexOf(s.id);t>-1&&this.syndicatingItems.splice(t,1)}},async unignoreItem(s){try{this.syndicatingItems.push(s.id);let t=60;this.settings&&this.settings.syndication_delay&&(t=this.settings.syndication_delay);const e=this.csrf||"",a=await fetch("/api/posse/unignore",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF":e},body:JSON.stringify({id:s.id,delay:t})}),i=await a.json();if(!a.ok)throw new Error(i.message||"Failed to unignore item");this.$store.dispatch("notification/success","Item added back to queue"),this.fetchQueue()}catch(t){console.error("Error unignoring item:",t),this.$store.dispatch("notification/error","Failed to unignore item: "+t.message)}finally{const t=this.syndicatingItems.indexOf(s.id);t>-1&&this.syndicatingItems.splice(t,1)}}}};var P=function(){var t=this,e=t._self._c;return e("k-inside",[e("k-view",{staticClass:"posse-view"},[e("k-header",[t._v(" POSSE Queue "),e("k-button-group",{attrs:{slot:"buttons"},slot:"buttons"},[e("k-button",{attrs:{icon:"add"},on:{click:t.openAddDialog}},[t._v("Add to Queue")]),e("k-button",{attrs:{icon:"settings"},on:{click:t.siteSettings}},[t._v("Settings")])],1)],1),e("k-grid",{staticStyle:{gap:"2.5rem"}},[e("k-column",{attrs:{width:"1/1"}},[t.loading?e("div",[e("k-text",[t._v("Loading syndication queue...")])],1):t._e(),e("custom-table",{attrs:{items:t.pendingItems,posts:t.posts,loading:t.loading,postsLoading:t.postsLoading,error:t.error,syndicatingItems:t.syndicatingItems},on:{"toggle-ignored":t.toggleIgnored,"add-to-queue":t.openAddDialog,"syndicate-now":t.syndicateNow,"go-to-settings":t.siteSettings}}),e("history-table",{attrs:{items:t.syndicatedItems,loading:t.loading,error:t.error},on:{unignore:t.unignoreItem}})],1)],1),e("k-dialog",{ref:"addDialog",on:{submit:t.submitAddDialog,cancel:t.cancelAddDialog}},[t.hasEnabledServices?t.posts.length===0?e("p",{staticClass:"k-text"},[t._v(" No eligible posts found. All posts have already been syndicated to all enabled services. ")]):e("k-form",{attrs:{fields:t.addDialogFields},on:{submit:t.submitAddDialog},model:{value:t.addDialogData,callback:function(a){t.addDialogData=a},expression:"addDialogData"}}):e("div",[e("p",{staticClass:"k-text"},[t._v(" No syndication services are enabled. You need to enable at least one service in the settings. ")]),e("k-button",{attrs:{icon:"settings"},on:{click:t.goToSettings}},[t._v("Go to Settings")])],1)],1),e("k-dialog",{ref:"urlDialog",on:{submit:t.submitUrlDialog,cancel:t.cancelUrlDialog}},[e("k-form",{attrs:{fields:t.urlDialogFields},on:{submit:t.submitUrlDialog},model:{value:t.urlDialogData,callback:function(a){t.urlDialogData=a},expression:"urlDialogData"}})],1)],1)],1)},U=[],q=p(F,P,U);const M=q.exports,R={props:{csrf:{type:String,required:!1,default:""}},data(){return{loading:!0,formData:{contenttypes:"",syndication_delay:60,auth_enabled:!1,auth_token:"",mastodon_enabled:!1,mastodon_instance_url:"",mastodon_api_token:"",mastodon_image_limit:4,bluesky_enabled:!1,bluesky_instance_url:"",bluesky_api_token:"",bluesky_image_limit:4,use_original_image_size:!1,image_preset:"1800w"},formFields:{general_settings:{label:"General Settings",type:"headline",width:"1/1"},contenttypes:{label:"Content Types to Track",type:"text",help:'Comma-separated list of page templates to track (e.g., "post, photo"). Leave empty to configure later.',width:"1/3"},syndication_delay:{label:"Delay (minutes)",type:"number",min:0,default:60,help:"Time to wait before syndication, giving you a chance to fix typos or errors",width:"1/3"},template:{label:"Post Template",type:"info",text:`The default template that defines how a post is structured on a service is defined in the plugin's snippets. You can customize it by creating your own snippets in your site's snippets directory. Currently supported services are:<br><br><strong>Mastodon:</strong> <code>snippets/posse/mastodon.php</code><br><strong>Bluesky:</strong> <code>snippets/posse/bluesky.php</code><br><br>If no service-specific snippet is found, it will fall back to the plugin provided default template. See the <a href="https://getkirby.com/docs/guide/templates/snippets" target="_blank">Kirby documentation</a> for more information about snippets.`,width:"2/3"},image_settings:{label:"Image Settings",type:"headline",width:"1/1",help:"Control how images are processed before being uploaded to social media platforms."},use_original_image_size:{label:"Use original image size",type:"toggle",text:["No","Yes"],width:"1/3",help:"If enabled, images will be uploaded in their original size. If disabled, you can specify a preset (e.g., 900w, 1800w) to resize images before uploading."},image_preset:{label:"Image size preset",type:"select",width:"1/3",help:'Select a preset for image resizing. Width options maintain aspect ratio, while Square options crop to an exact square. <a href="https://getkirby.com/docs/guide/files/resize-images-on-the-fly#presets" target="_blank">Configure this list</a> in your Kirby config.',options:[],default:"1800w",when:{use_original_image_size:!1}},image_settings_spacer:{type:"info",text:" ",theme:"none",width:"1/3",when:{use_original_image_size:!0}},scheduling_headline:{label:"Automated Syndication",type:"headline",help:"Automated syndication shares your posts on social media platforms without manual intervention, using the configured delay time to process items from the queue when they're ready. Only one post will be syndicated per hour, even if the cron job runs every 10 minutes. This prevents flooding your social media accounts.",width:"2/3"},scheduling_auth:{label:"Authentication",type:"info",text:'This feature requires authentication. You can use either <a href="https://getkirby.com/docs/guide/api/authentication#http-basic-auth" target="_blank">Basic Auth</a> or configure a token below. If a token is configured, it will take precedence over Basic Auth. Token authentication is required if you have <a href="https://getkirby.com/docs/guide/authentication#two-factor-authentication" target="_blank">Two-Factor Authentication (2FA)</a> enabled on your Kirby installation.',theme:"notice",width:"2/3"},scheduling_auth_spacer:{type:"info",text:" ",theme:"none",width:"1/3"},auth_enabled:{label:"Enable Token Authentication",type:"toggle",text:["Disabled","Enabled"],width:"1/6",help:"Use a token for authentication instead of Basic Auth."},auth_token:{label:"API Token",type:"text",help:"This token will be used in the X-POSSE-Token header for your cron jobs, as shown in the commands below.",width:"1/2",validate:{minLength:8},messages:{minLength:"The token must be at least 8 characters long"},when:{auth_enabled:!0}},auth_token_spacer:{type:"info",text:" ",theme:"none",width:"1/3",when:{auth_enabled:!0}},scheduling_command_label:{label:"Cron Job Command",type:"headline",numbered:!1,width:"1/1"},scheduling_command_info:{type:"info",text:`<div style="font-family: 'Courier New', Courier, monospace; background-color: #222; color: white; padding: 12px; border-radius: 4px; white-space: pre-wrap; display: block;">
# Option 1: Using Basic Auth (replace USERNAME and PASSWORD with your Kirby panel credentials)
*/10 * * * * curl -s -u "USERNAME:PASSWORD" ${window.location.origin}/api/posse/cron-syndicate > /dev/null 2>&1

# Option 2: Using API Token (replace YOUR-TOKEN with your configured token)
*/10 * * * * curl -s -H "X-POSSE-Token: YOUR-TOKEN" ${window.location.origin}/api/posse/cron-syndicate > /dev/null 2>&1
</div>`,theme:"none",width:"2/3"},scheduling_monitoring_command_label:{label:"Cron Job with Monitoring",type:"headline",numbered:!1,width:"1/1"},scheduling_monitoring:{type:"info",text:`<strong>Pro Tip:</strong> Monitor your cron jobs with a service like <a href="https://healthchecks.io" target="_blank">Healthchecks.io</a> to ensure they're running properly. This helps you detect and fix issues before they affect your content syndication.`,theme:"info",width:"2/3"},scheduling_monitoring_command_info:{type:"info",text:`<div style="font-family: 'Courier New', Courier, monospace; background-color: #222; color: white; padding: 12px; border-radius: 4px; white-space: pre-wrap; display: block;">
# Option 1: Using Basic Auth (replace USERNAME, PASSWORD, and YOUR-UUID with your values)
*/10 * * * * curl -s -u "USERNAME:PASSWORD" ${window.location.origin}/api/posse/cron-syndicate && curl -fsS -m 10 https://hc-ping.com/YOUR-UUID > /dev/null 2>&1

# Option 2: Using API Token (replace YOUR-TOKEN and YOUR-UUID with your values)
*/10 * * * * curl -s -H "X-POSSE-Token: YOUR-TOKEN" ${window.location.origin}/api/posse/cron-syndicate && curl -fsS -m 10 https://hc-ping.com/YOUR-UUID > /dev/null 2>&1
</div>`,theme:"none",width:"2/3"},mastodon_headline:{label:"Mastodon",type:"headline",width:"1/1"},mastodon_enabled:{label:"Enable Mastodon",type:"toggle",text:["Disabled","Enabled"],width:"1/6"},mastodon_instance_url:{label:"Instance URL",type:"url",placeholder:"https://mastodon.social",width:"1/2",when:{mastodon_enabled:!0}},mastodon_api_token:{label:"API Token",type:"text",width:"1/2",help:'Go to the <a href="https://docs.joinmastodon.org/client/token/" target="_blank">developer settings</a> of your Mastodon account, set up an application with write:media and write:statuses scopes, and use that API token.',when:{mastodon_enabled:!0}},mastodon_image_limit:{label:"Image Limit",type:"number",min:1,max:10,default:4,width:"1/6",help:"Maximum number of images to include in syndicated posts",required:!0,when:{mastodon_enabled:!0}},bluesky_headline:{label:"Bluesky",type:"headline",width:"1/1"},bluesky_enabled:{label:"Enable Bluesky",type:"toggle",text:["Disabled","Enabled"],width:"1/6"},bluesky_instance_url:{label:"Instance URL",type:"url",placeholder:"https://bsky.social",width:"1/2",when:{bluesky_enabled:!0}},bluesky_api_token:{label:"API Token",type:"text",width:"1/2",help:'In the <a href="https://bsky.app/settings/app-passwords" target="_blank">app passwords</a> section of your Bluesky account, create a new app password and enter it in the format "username.bsky.social:password".',when:{bluesky_enabled:!0}},bluesky_image_limit:{label:"Image Limit",type:"number",min:1,max:10,default:4,width:"1/6",help:"Maximum number of images to include in syndicated posts",required:!0,when:{bluesky_enabled:!0}}}}},created(){this.fetchSettings()},methods:{async fetchSettings(){var s,t,e,a,i,o,l,d,r,c,u,h,y,f,_,b,v,k;this.loading=!0;try{const g=this.csrf||"",m=await fetch("/api/posse/settings",{method:"GET",headers:{"X-CSRF":g}});if(!m.ok)throw new Error(`Error loading settings: ${m.status}`);const n=await m.json();this.formData={contenttypes:this.mapContentTypes(n.contenttypes),syndication_delay:n.syndication_delay||60,auth_enabled:((s=n.auth)==null?void 0:s.enabled)||!1,auth_token:((t=n.auth)==null?void 0:t.token)||"",mastodon_enabled:((a=(e=n.services)==null?void 0:e.mastodon)==null?void 0:a.enabled)||!1,mastodon_instance_url:((o=(i=n.services)==null?void 0:i.mastodon)==null?void 0:o.instance_url)||"",mastodon_api_token:((d=(l=n.services)==null?void 0:l.mastodon)==null?void 0:d.api_token)||"",mastodon_image_limit:((c=(r=n.services)==null?void 0:r.mastodon)==null?void 0:c.image_limit)||4,bluesky_enabled:((h=(u=n.services)==null?void 0:u.bluesky)==null?void 0:h.enabled)||!1,bluesky_instance_url:((f=(y=n.services)==null?void 0:y.bluesky)==null?void 0:f.instance_url)||"",bluesky_api_token:((b=(_=n.services)==null?void 0:_.bluesky)==null?void 0:b.api_token)||"",bluesky_image_limit:((k=(v=n.services)==null?void 0:v.bluesky)==null?void 0:k.image_limit)||4,use_original_image_size:n.use_original_image_size??!1,image_preset:n.image_preset??"1800w"},n.thumbs_presets&&Array.isArray(n.thumbs_presets)&&n.thumbs_presets.length>0?this.formFields.image_preset.options=n.thumbs_presets.map(w=>({value:w.value,text:w.text})):this.formFields.image_preset.options=[{text:"Width: 300px",value:"300w"},{text:"Width: 600px",value:"600w"},{text:"Width: 900px",value:"900w"},{text:"Width: 1200px",value:"1200w"},{text:"Width: 1800px",value:"1800w"},{text:"Square: 300Ã—300px",value:"square-300w"},{text:"Square: 600Ã—600px",value:"square-600w"},{text:"Square: 900Ã—900px",value:"square-900w"},{text:"Square: 1200Ã—1200px",value:"square-1200w"},{text:"Square: 1800Ã—1800px",value:"square-1800w"}]}catch(g){console.error("Error loading settings:",g),this.$store.dispatch("notification/error","Failed to load settings")}finally{this.loading=!1}},async saveSettings(){try{const s={services:{mastodon:{enabled:this.formData.mastodon_enabled,instance_url:this.formData.mastodon_instance_url,api_token:this.formData.mastodon_api_token,image_limit:parseInt(this.formData.mastodon_image_limit)||4},bluesky:{enabled:this.formData.bluesky_enabled,instance_url:this.formData.bluesky_instance_url,api_token:this.formData.bluesky_api_token,image_limit:parseInt(this.formData.bluesky_image_limit)||4}},contenttypes:this.parseContentTypes(this.formData.contenttypes),syndication_delay:parseInt(this.formData.syndication_delay)||60,use_original_image_size:this.formData.use_original_image_size,image_preset:this.formData.image_preset,auth:{token:this.formData.auth_token,enabled:this.formData.auth_enabled}},t=this.csrf||"",e=await fetch("/api/posse/settings",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF":t},body:JSON.stringify(s)}),a=await e.json();if(!e.ok||a.status==="error")throw new Error(a.message||`Failed to save settings: ${e.status}`);this.$store.dispatch("notification/success","Settings saved successfully")}catch(s){console.error("Error saving settings:",s),this.$store.dispatch("notification/error",s.message)}},insertDefaultTemplate(){this.formData.template=`{{title}}

{{url}}

{{tags}}`},mapContentTypes(s){if(!s||Object.keys(s).length===0)return"";const t=[];for(const[e,a]of Object.entries(s))a&&t.push(e);return t.join(", ")},parseContentTypes(s){const t={};if(!s)return{};const e=s.split(",").map(a=>a.trim());for(const a of e)a&&(t[a]=!0);return t}}};var j=function(){var t=this,e=t._self._c;return e("k-inside",[e("k-view",{staticClass:"posse-view"},[e("k-header",[t._v(" POSSE Settings "),e("k-button-group",{attrs:{slot:"buttons"},slot:"buttons"},[e("k-button",{attrs:{icon:"check"},on:{click:t.saveSettings}},[t._v("Save")])],1)],1),e("k-grid",{staticStyle:{gap:"2.5rem"}},[e("k-column",{attrs:{width:"1/1"}},[t.loading?e("div",[e("k-text",[t._v("Loading settings...")])],1):e("div",{staticClass:"posse-settings-content"},[e("k-form",{attrs:{fields:t.formFields},on:{submit:t.saveSettings},model:{value:t.formData,callback:function(a){t.formData=a},expression:"formData"}})],1)])],1)],1)],1)},z=[],N=p(R,j,z);const L=N.exports;typeof window.panel<"u"&&window.panel.plugin("notmyhostname/posse",{components:{"posse-view":M,"posse-settings":L}})})();
